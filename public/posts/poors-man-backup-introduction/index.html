<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>My poor man backup and NAS: Part 1 - Breaking the inertia | NonEntity</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="TL;DR ğŸ”—
I need a very low-cost but reliable backup routine, which Iâ€™ve been neglecting for too long.
I want to follow the 3-2-1 backup rule: 3 copies of my data, 2 different storage media, 1 off-site storage.
I calculated my storage requirements based on real usage.
My starting setup: 1 Raspberry Pi 4B (2GB RAM), 1 Ã— 256GB SSD, 1 Ã— 1TB USB HDD, and AWS S3 Glacier Deep Archive.

Introduction ğŸ”—I have been using cloud storage systems as my main way to sync and backup data for the past 10 years (at least). Yes, I know, cloud storage like OneDrive, Goole Drive, Dropbox, etc. are not meant to be used as backup solutions, and I shouldn&rsquo;t be feeding big tech monsters with more data. Especially personal data.">
<meta name="generator" content="Hugo 0.142.0">


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/css/style.css">



<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />








  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">â†</span>Home</a>
	
	<a href="/posts">Archive</a>
	<a href="/tags">Tags</a>
	<a href="/about">About</a>

	

	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">My poor man backup and NAS: Part 1 - Breaking the inertia</h1>

    <div class="tip">
        <time datetime="2025-08-28 00:00:00 &#43;0000 UTC">Aug 28, 2025</time>
        <span class="split">
          Â·
        </span>
        <span>
          849 words
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          4 minute read
        </span>
    </div>

    
    


    <div class="content">
      <h2 id="tldr">TL;DR <a href="#tldr" class="anchor">ğŸ”—</a></h2><ul>
<li>I need a very low-cost but reliable backup routine, which Iâ€™ve been neglecting for too long.</li>
<li>I want to follow the <strong>3-2-1 backup rule</strong>: 3 copies of my data, 2 different storage media, 1 off-site storage.</li>
<li>I calculated my storage requirements based on real usage.</li>
<li>My starting setup: 1 Raspberry Pi 4B (2GB RAM), 1 Ã— 256GB SSD, 1 Ã— 1TB USB HDD, and AWS S3 Glacier Deep Archive.</li>
</ul>
<h2 id="introduction">Introduction <a href="#introduction" class="anchor">ğŸ”—</a></h2><p>I have been using cloud storage systems as my main way to sync and <strong>backup</strong> data for the past 10 years (at least). Yes, I know, cloud storage like OneDrive, Goole Drive, Dropbox, etc. are not meant to be used as backup solutions, and I shouldn&rsquo;t be feeding big tech monsters with more data. Especially personal data.</p>
<p>So, I decided to break the inertia and set up my own backup solution. It won&rsquo;t be perfect, but it will be simple, cheap, useful and the most important: fun to build.</p>
<p>This is the first post of a series where I intend to share my quest to establish a minimal, reliable solution to streamline my backup routine.</p>
<h2 id="what-do-i-need-to-back-up">What do I need to back up? <a href="#what-do-i-need-to-back-up" class="anchor">ğŸ”—</a></h2><p>First, we need to understand my reality and what I do with my data. First of all, as a software engineer, I have&hellip;</p>
<ul>
<li><strong>A bunch of personal projects</strong>: most of them unfinished, but full of useful snippets and ideas.</li>
<li><strong>One endless library of books</strong>: I havenâ€™t read 1/3 of them, but they are precious to me.</li>
<li><strong>Personal documents</strong>: digital copies of personal documents that I often use while dealing with my daily life problems and bureaucracy.</li>
<li><strong>Photos &amp; Videos</strong>: the usual phone clutter that holds special moments of our lifes.</li>
</ul>
<p>We can categorize this data by availability into 2 sets:</p>
<h3 id="data-that-i-may-need-anywhere">Data that I (may) need anywhere. <a href="#data-that-i-may-need-anywhere" class="anchor">ğŸ”—</a></h3><p>Personal documents, photos, and videos. I want quick access to these, even outside home, and theyâ€™re already synced across devices via my cloud provider.</p>
<h3 id="data-i-only-need-at-home">Data I only need at home <a href="#data-i-only-need-at-home" class="anchor">ğŸ”—</a></h3><p>Projects, books, notes. These donâ€™t need to be synced to my phone or tablet, and in fact, syncing code to cloud folders has caused me issues before.</p>
<p>Great! Based on that, I can say that I mainly need <strong>two storage spaces</strong>:</p>
<ol>
<li>A network-shared folder for data that doesn&rsquo;t belong in the cloud.</li>
<li>A cold storage area for copies of everything, including what I pull down from the cloud.</li>
</ol>
<p><p class="markdown-image">
  <img src="/images/backup/backup_landscape_step1.png" alt="Backup Landscape Diagram - Step 1"  />
</p></p>
<h2 id="the-3-2-1-backup-rule">The 3-2-1 backup rule <a href="#the-3-2-1-backup-rule" class="anchor">ğŸ”—</a></h2><p>The classic principle for reliable backups:</p>
<ol>
<li><strong>3 copies of data</strong> â€” the original plus two backups.</li>
<li><strong>2 different media types</strong> â€” not all eggs in one basket.</li>
<li><strong>1 off-site copy</strong> â€” in case of fire, theft, or disaster.</li>
</ol>
<p>Hereâ€™s how Iâ€™m mapping it:</p>
<table>
  <thead>
      <tr>
          <th>Rule</th>
          <th>Data Synced Across Devices</th>
          <th>Other Data</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>3 copies</td>
          <td>Cloud Storage, NAS Drive, Local Backup Media</td>
          <td>Laptop Drive, NAS Drive, Local Backup Media</td>
      </tr>
      <tr>
          <td>2 different media</td>
          <td>Local Backup Media, AWS S3</td>
          <td>Local Backup Media, AWS S3</td>
      </tr>
      <tr>
          <td>1 off-site</td>
          <td>AWS S3</td>
          <td>AWS S3</td>
      </tr>
  </tbody>
</table>
<p>For off-site, Iâ€™m using <strong>AWS S3 Glacier Deep Archive</strong>. Cheap, reliable, and fits my low-cost goal.</p>
<h2 id="how-often">How often? <a href="#how-often" class="anchor">ğŸ”—</a></h2><p>Frequency is always a trade-off between cost and recoverability. My routine looks like this:</p>
<ul>
<li>I work 9â€“6, and outside that I code, study, or write.</li>
<li>Losing 6 hours of data would be unpleasant, but survivable.</li>
<li>My dataset is ~17GB compressed, with ~100MB changes every 6 hours.</li>
</ul>
<p>Based on this, I chose:</p>
<ul>
<li><strong>1 full backup monthly</strong> (17GB).</li>
<li><strong>1 differential backup every 6 hours</strong> (~12GB total/month).</li>
</ul>
<p>Thatâ€™s ~30GB/month. Add 20% margin â†’ <strong>~36GB/month</strong>.<br>
A 500GB disk holds over 12 months, which is plenty.</p>
<p><p class="markdown-image">
  <img src="/images/backup/backup_landscape_step2.png" alt="Backup Landscape Diagram - Final"  />
</p></p>
<h2 id="hardware-setup">Hardware setup <a href="#hardware-setup" class="anchor">ğŸ”—</a></h2><p>I am planning to initially use components that I already have at home:</p>
<ul>
<li><strong>Raspberry Pi 4B (2GB RAM)</strong> â†’ runs the automation.</li>
<li><strong>256GB NVMe SSD (USB3 hat)</strong> â†’ network-shared folder + cloud sync mirror.</li>
<li><strong>1TB USB HDD</strong> â†’ backup destination. Low-cost, flexible. (Eventually Iâ€™ll upgrade to a dock with proper cooling and reliability.)</li>
</ul>
<h2 id="software-stack">Software stack <a href="#software-stack" class="anchor">ğŸ”—</a></h2><table>
  <thead>
      <tr>
          <th>Component</th>
          <th>Purpose</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Raspberry OS Lite</td>
          <td>Operating system</td>
      </tr>
      <tr>
          <td>SSH</td>
          <td>Remote access</td>
      </tr>
      <tr>
          <td>SAMBA</td>
          <td>Network file sharing</td>
      </tr>
      <tr>
          <td>CRON</td>
          <td>Schedule backups</td>
      </tr>
      <tr>
          <td>UFW</td>
          <td>Firewall</td>
      </tr>
      <tr>
          <td>OneDrive Client for Linux</td>
          <td>Pull data from OneDrive</td>
      </tr>
      <tr>
          <td>TAR + GZIP</td>
          <td>Archive + compress</td>
      </tr>
      <tr>
          <td>OpenSSL</td>
          <td>Encrypt before upload</td>
      </tr>
      <tr>
          <td>AWS CLI</td>
          <td>Upload to S3</td>
      </tr>
  </tbody>
</table>
<p>On top of that, Iâ€™ll harden access and automate as much as possible.</p>
<h2 id="off-site-storage-cost">Off-site storage cost <a href="#off-site-storage-cost" class="anchor">ğŸ”—</a></h2><p>At the time of writing, AWS S3 Glacier Deep Archive costs <strong>$0.00099/GB/month</strong>. With I quick and easy math we can see how a bargain it will be:</p>
<pre tabindex="0"><code>Storage Requirement: ~ 36GB / * 12 months ~ 432GB for one year of backup retentnion
Monthly Cost: USD 0.00099 per GB per month * 432 GB (after 12 months of backup) = USD 0.43 per month
Yearly Cost: USD 0.43 * 12 months = USD 5.16
</code></pre><p>For less than <strong>$6/year</strong>, I can have a reliable, long-term off-site storage for my humble backup.</p>
<h2 id="wrapping-up">Wrapping up <a href="#wrapping-up" class="anchor">ğŸ”—</a></h2><p>With ~36GB/month of backups, a Raspberry Pi, and some spare drives, I can implement a <strong>3-2-1 strategy</strong> thatâ€™s cheap, reliable, and good enough for a regular person like me.</p>
<p>Next, Iâ€™ll share the configuration details â€” but I wonâ€™t just copy-paste one of the 2,000 Raspberry Pi tutorials out there. Expect something practical and personal.</p>

    </div>

    
    
    

</section>


    </main>
    
    <footer id="footer">
    

    <div class="copyright">
    
       Â© Copyright 
       2025 
       <span class="split">
        <svg fill="#bbbbbb" width="15" height="15" version="1.1" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15px" height="15px" viewBox="0 0 15 15">
  <path d="M13.91,6.75c-1.17,2.25-4.3,5.31-6.07,6.94c-0.1903,0.1718-0.4797,0.1718-0.67,0C5.39,12.06,2.26,9,1.09,6.75&#xA;&#x9;C-1.48,1.8,5-1.5,7.5,3.45C10-1.5,16.48,1.8,13.91,6.75z"/>
</svg>
       </span>
       
    
    </div>

    
      <div class="powerby">
        Powered by <a href='http://www.gohugo.io/'>Hugo</a> Theme By <a href='https://github.com/nodejh/hugo-theme-mini'>nodejh</a>
      </div>
    
</footer>



  </body>
</html>
